{"openapi":"3.0.3","info":{"title":"Backend API Documentation","description":"API documentation for the backend services","version":"1.0.0"},"components":{"schemas":{}},"paths":{"/api/login":{"post":{"summary":"Authenticate user and get JWT token","tags":["Authentication"],"description":"Authenticates a user and returns a JWT token along with user details.","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["customerCode","password"],"properties":{"customerCode":{"type":"string","description":"รหัสลูกค้า (Customer Code)"},"password":{"type":"string","description":"รหัสผ่าน (Password)"}}}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/admin/users":{"post":{"summary":"Create a new user","tags":["Admin - Users"],"description":"Allows an admin to create a new user (customer or other roles).","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["firstName","lastName","email","phone","customerCode","address","password"],"properties":{"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"email":{"type":"string","format":"email","description":"User's email address"},"phone":{"type":"string","description":"User's phone number"},"customerCode":{"type":"string","minLength":4,"maxLength":10,"description":"Unique code for the customer, 4-10 characters"},"address":{"type":"string","description":"User's physical address"},"password":{"type":"string","minLength":8,"description":"User's password, minimum 8 characters"},"role":{"type":"string","enum":["admin","customer"],"default":"customer","description":"User's role. Defaults to customer. Possible values: admin, customer"}}}}},"required":true},"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the user."},"firstName":{"type":"string","description":"User's first name."},"lastName":{"type":"string","description":"User's last name."},"email":{"type":"string","format":"email","description":"User's email address."},"phone":{"type":"string","description":"User's phone number."},"customerCode":{"type":"string","description":"User's unique customer code."},"address":{"type":"string","description":"User's physical address."},"role":{"type":"string","enum":["admin","customer"],"description":"User's role. Possible values: admin, customer."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was last updated."}}}}}}}},"get":{"summary":"Get all users","tags":["Admin - Users"],"description":"Retrieves a list of all users.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the user."},"firstName":{"type":"string","description":"User's first name."},"lastName":{"type":"string","description":"User's last name."},"email":{"type":"string","format":"email","description":"User's email address."},"phone":{"type":"string","description":"User's phone number."},"customerCode":{"type":"string","description":"User's unique customer code."},"address":{"type":"string","description":"User's physical address."},"role":{"type":"string","enum":["admin","customer"],"description":"User's role. Possible values: admin, customer."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was last updated."}}}}}}}}}},"/api/admin/users/{id}":{"get":{"summary":"Get user by ID","tags":["Admin - Users"],"description":"Retrieves a specific user by their ID.","parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true,"description":"Unique identifier of the user"}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the user."},"firstName":{"type":"string","description":"User's first name."},"lastName":{"type":"string","description":"User's last name."},"email":{"type":"string","format":"email","description":"User's email address."},"phone":{"type":"string","description":"User's phone number."},"customerCode":{"type":"string","description":"User's unique customer code."},"address":{"type":"string","description":"User's physical address."},"role":{"type":"string","enum":["admin","customer"],"description":"User's role. Possible values: admin, customer."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the user was last updated."}}}}}}}}},"/api/parcels/parcel":{"get":{"summary":"List all parcels with pagination and filtering","tags":["Parcel"],"parameters":[{"schema":{"type":"integer","minimum":1,"default":1},"in":"query","name":"page","required":false,"description":"Page number for pagination."},{"schema":{"type":"integer","minimum":1,"maximum":100,"default":10},"in":"query","name":"pageSize","required":false,"description":"Number of items per page."},{"schema":{"type":"string","enum":["pending","shipped","delivered","cancelled","all"]},"in":"query","name":"status","required":false,"description":"Filter parcels by status. 'all' retrieves parcels with any status."},{"schema":{"type":"string","enum":["unpaid","paid","partial","all"]},"in":"query","name":"paymentStatus","required":false,"description":"Filter parcels by payment status. 'all' retrieves parcels with any payment status."},{"schema":{"type":"string"},"in":"query","name":"trackingNo","required":false,"description":"Filter parcels by tracking number."},{"schema":{"type":"string","format":"date"},"in":"query","name":"dateFrom","required":false,"description":"Filter parcels created on or after this date (YYYY-MM-DD)."},{"schema":{"type":"string","format":"date"},"in":"query","name":"dateTo","required":false,"description":"Filter parcels created on or before this date (YYYY-MM-DD)."},{"schema":{"type":"string"},"in":"query","name":"customerCode","required":false,"description":"Filter parcels by customer code."}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"resultCode":{"type":"integer","description":"Standard result code for the API response."},"resultStatus":{"type":"string","description":"Standard result status message."},"developerMessage":{"type":"string","description":"Developer-specific message or error details."},"resultData":{"type":"object","properties":{"parcels":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the parcel (UUID)."},"parcelRef":{"type":"string","description":"Parcel reference number."},"receiveDate":{"type":"string","format":"date-time","description":"Date and time the parcel was received."},"customerCode":{"type":"string","description":"Associated customer's code."},"shipment":{"type":"string","description":"Shipment details or identifier."},"estimate":{"type":"number","description":"Estimated cost or value."},"status":{"type":"string","enum":["pending","shipped","delivered","cancelled"],"description":"Current status of the parcel."},"cnTracking":{"type":"string","description":"China tracking number."},"volume":{"type":"number","description":"Volume of the parcel (e.g., in cubic meters)."},"weight":{"type":"number","description":"Weight of the parcel (e.g., in kilograms)."},"freight":{"type":"number","description":"Freight cost."},"deliveryMethod":{"type":"string","description":"Method of delivery."},"thTracking":{"type":"string","description":"Thailand tracking number."},"paymentStatus":{"type":"string","enum":["unpaid","paid","partial"],"description":"Payment status of the parcel."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was last updated."}},"required":["id","parcelRef","receiveDate","customerCode","shipment","estimate","status","cnTracking","volume","weight","freight","deliveryMethod","paymentStatus","createdAt","updatedAt"]},"description":"Array of parcel objects."},"total":{"type":"integer","description":"Total number of parcels matching the query."},"page":{"type":"integer","description":"Current page number."},"pageSize":{"type":"integer","description":"Number of items per page."}},"required":["parcels","total","page","pageSize"]}},"required":["resultCode","resultStatus","developerMessage","resultData"]}}}}}}},"/api/parcels/parcel/{id}":{"get":{"summary":"Get a single parcel by its ID","tags":["Parcel"],"parameters":[{"schema":{"type":"string","format":"uuid"},"in":"path","name":"id","required":true,"description":"Unique identifier of the parcel to retrieve (UUID)."}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"resultCode":{"type":"integer","description":"Standard result code."},"resultStatus":{"type":"string","description":"Standard result status message."},"developerMessage":{"type":"string","description":"Developer-specific message."},"resultData":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the parcel (UUID)."},"parcelRef":{"type":"string","description":"Parcel reference number."},"receiveDate":{"type":"string","format":"date-time","description":"Date and time the parcel was received."},"customerCode":{"type":"string","description":"Associated customer's code."},"shipment":{"type":"string","description":"Shipment details or identifier."},"estimate":{"type":"number","description":"Estimated cost or value."},"status":{"type":"string","enum":["pending","shipped","delivered","cancelled"],"description":"Current status of the parcel."},"cnTracking":{"type":"string","description":"China tracking number."},"volume":{"type":"number","description":"Volume of the parcel (e.g., in cubic meters)."},"weight":{"type":"number","description":"Weight of the parcel (e.g., in kilograms)."},"freight":{"type":"number","description":"Freight cost."},"deliveryMethod":{"type":"string","description":"Method of delivery."},"thTracking":{"type":"string","description":"Thailand tracking number."},"paymentStatus":{"type":"string","enum":["unpaid","paid","partial"],"description":"Payment status of the parcel."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was last updated."}},"required":["id","parcelRef","receiveDate","customerCode","shipment","estimate","status","cnTracking","volume","weight","freight","deliveryMethod","paymentStatus","createdAt","updatedAt"]}},"required":["resultCode","resultStatus","developerMessage","resultData"]}}}}}}},"/api/parcels/admin/parcel/{id}/status":{"patch":{"summary":"Update parcel status","tags":["Parcel Admin"],"description":"Allows updating the status of a specific parcel. Optionally, a notification can be triggered.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["pending","shipped","delivered","cancelled"],"description":"The new status for the parcel."},"notify":{"type":"boolean","default":false,"description":"Whether to notify the customer about the status update. Defaults to false."}},"required":["status"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid"},"in":"path","name":"id","required":true,"description":"Unique identifier of the parcel to update (UUID)."}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"resultCode":{"type":"integer","description":"Standard result code."},"resultStatus":{"type":"string","description":"Standard result status message."},"developerMessage":{"type":"string","description":"Developer-specific message."},"resultData":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the parcel (UUID)."},"parcelRef":{"type":"string","description":"Parcel reference number."},"receiveDate":{"type":"string","format":"date-time","description":"Date and time the parcel was received."},"customerCode":{"type":"string","description":"Associated customer's code."},"shipment":{"type":"string","description":"Shipment details or identifier."},"estimate":{"type":"number","description":"Estimated cost or value."},"status":{"type":"string","enum":["pending","shipped","delivered","cancelled"],"description":"Current status of the parcel."},"cnTracking":{"type":"string","description":"China tracking number."},"volume":{"type":"number","description":"Volume of the parcel (e.g., in cubic meters)."},"weight":{"type":"number","description":"Weight of the parcel (e.g., in kilograms)."},"freight":{"type":"number","description":"Freight cost."},"deliveryMethod":{"type":"string","description":"Method of delivery."},"thTracking":{"type":"string","description":"Thailand tracking number."},"paymentStatus":{"type":"string","enum":["unpaid","paid","partial"],"description":"Payment status of the parcel."},"createdAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was created."},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp of when the parcel record was last updated."}},"required":["id","parcelRef","receiveDate","customerCode","shipment","estimate","status","cnTracking","volume","weight","freight","deliveryMethod","paymentStatus","createdAt","updatedAt"]}},"required":["resultCode","resultStatus","developerMessage","resultData"]}}}}}}}}}